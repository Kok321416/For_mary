# Деплой сайта на reg.ru через GitHub Actions

## 1. Создать репозиторий на GitHub и запушить проект

1. Зайдите на [github.com](https://github.com), войдите в аккаунт.
2. Нажмите **«+» → «New repository»**.
3. Укажите имя (например, `for-mary` или `psychologist-site`), выберите **Public**.
4. **Не** ставьте галочки «Add README» / «Add .gitignore» — репозиторий должен быть пустым.
5. Нажмите **«Create repository»**.
6. В папке проекта выполните (подставьте свой логин и имя репозитория):

```bash
cd c:\Users\Artem\PycharmProjects\FOR_MARY

git remote add origin https://github.com/ВАШ_ЛОГИН/ИМЯ_РЕПОЗИТОРИЯ.git
git branch -M main
git push -u origin main
```

Либо, если используете SSH:

```bash
git remote add origin git@github.com:ВАШ_ЛОГИН/ИМЯ_РЕПОЗИТОРИЯ.git
git branch -M main
git push -u origin main
```

Репозиторий станет открытым (Public), если вы так выбрали при создании.

---

## 2. Данные FTP на reg.ru

На хостинге reg.ru:

1. Зайдите в [панель управления](https://www.reg.ru/user/authorize) → ваш хостинг.
2. Откройте раздел **«FTP»** или **«Файловый менеджер»** и найдите:
   - **FTP-сервер** (например, `ваш-логин.ftp.tools.reg.ru` или IP).
   - **Логин** и **пароль** FTP (часто совпадают с логином/паролем панели или отдельные для FTP).
3. Узнайте **путь к корню сайта** на сервере. Обычно это:
   - `public_html` или
   - `www` или
   - `htdocs`
   Путь указывается **относительно входа по FTP** (например, `public_html` или `/public_html`).

---

## 3. Секреты в GitHub

1. Откройте репозиторий на GitHub → вкладка **«Settings»** → слева **«Secrets and variables» → «Actions»**.
2. Нажмите **«New repository secret»** и по очереди создайте:

| Name             | Value (пример)                          |
|------------------|------------------------------------------|
| `FTP_HOST`       | `ваш-логин.ftp.tools.reg.ru` или IP     |
| `FTP_USER`       | Ваш FTP-логин                           |
| `FTP_PASSWORD`   | Ваш FTP-пароль                          |
| `FTP_REMOTE_PATH`| `public_html` или `www` (корень сайта)   |

Значения берите из панели reg.ru (FTP).

---

## 4. Деплой

- При каждом **push в ветку `main`** GitHub Actions автоматически зальёт файлы на хостинг по FTP.
- Запуск вручную: в репозитории вкладка **«Actions»** → workflow **«Deploy to reg.ru»** → **«Run workflow»**.

Проверка: откройте ваш домен (например, `https://ваш-домен.ru`) — должна открыться главная страница сайта.

---

## 5. Если сайт открывается не из той папки

В reg.ru в настройках хостинга (раздел «Сайты» / «Домены») проверьте **корневую директорию** для домена. Она должна совпадать с тем, что указано в `FTP_REMOTE_PATH` (например, `public_html`). При необходимости измените `FTP_REMOTE_PATH` в секретах и заново запустите workflow.

---

## 6. Важно

- Не коммитьте пароли в репозиторий — только в **Secrets**.
- Файлы `.git`, `.github`, `.idea`, `.venv` и служебные файлы на хостинг **не** заливаются (настроено в workflow).
